{"version":3,"sources":["services/firebase.js","helpers/auth.js","components/Header/Header.js","components/Footer/Footer.js","pages/Home/Home.js","components/Loader/Footer.js","pages/Chat/Chat.js","pages/Forms/Signup.js","pages/Forms/Login.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","auth","db","database","signup","email","password","createUserWithEmailAndPassword","signin","signInWithEmailAndPassword","signInWithGoogle","provider","GoogleAuthProvider","signInWithPopup","signInWithGitHub","GithubAuthProvider","Header","className","to","currentUser","onClick","signOut","Footer","HomePage","Loader","dark","Chat","props","state","user","chats","content","readError","writeError","loadingChats","handleChange","bind","handleSubmit","myRef","React","createRef","this","setState","chatArea","current","ref","on","snapshot","forEach","snap","push","val","sort","a","b","timestamp","scrollBy","scrollHeight","error","message","event","target","value","preventDefault","Date","now","uid","d","getDate","getMonth","getFullYear","getHours","getMinutes","map","chat","index","formatTime","onSubmit","name","type","placeholder","onChange","Component","SignUp","useState","setError","setEmail","setPassword","googleSignIn","githubSignIn","autoComplete","Login","PrivateRoute","component","authenticated","rest","render","pathname","from","location","PublicRoute","App","setAuthenticated","loading","setLoading","useEffect","onAuthStateChanged","exact","path","rootElement","document","getElementById","ReactDOM"],"mappings":"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","file":"static/js/main.19380d88.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/auth\";\nimport \"firebase/database\";\n\nconst config = {\n    apiKey: \"AIzaSyA0c4AngClsnqXDPQqoxhD9mVYgQom-65I\",\n    authDomain: \"private-chat-edd81.firebaseapp.com\",\n    databaseURL: \"https://private-chat-edd81.firebaseio.com\",\n};\n\nfirebase.initializeApp(config);\n\nexport const auth = firebase.auth;\nexport const db = firebase.database();\n","import { auth } from \"../services/firebase\";\n\nexport const signup = (email, password) => auth().createUserWithEmailAndPassword(email, password);\n\nexport const signin = (email, password) => auth().signInWithEmailAndPassword(email, password);\n\nexport const signInWithGoogle = () => {\n    const provider = new auth.GoogleAuthProvider();\n    return auth().signInWithPopup(provider);\n};\n\nexport const signInWithGitHub = () => {\n    const provider = new auth.GithubAuthProvider();\n    return auth().signInWithPopup(provider);\n};\n\nexport const logout = () => auth().signOut();\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { auth } from '../../services/firebase';\nimport { logout } from \"../../helpers/auth\";\n\nimport './styles.scss';\n\nconst Header = () => {\n    return (\n        <header className='cmp-header'>\n            <nav className='cmp-header__nav'>\n                <Link className='cmp-header__nav--link' to='/'>Private Chat</Link>\n                <div className='cmp-header__nav__profile'>\n                    { auth().currentUser\n                    && <>\n                        <Link className='' to='/chat'>{ auth().currentUser.email } </Link>\n                        <button className='' onClick={ () => logout() }>Logout</button>\n                    </>\n                    }\n                </div>\n            </nav>\n        </header>\n    );\n};\n\nexport default Header;\n","import React from 'react';\n\nimport './styles.scss';\n\nconst Footer = () => {\n    return (\n        <footer className=\"cmp-footer\">\n            <div className=\"cmp-footer--paragraph\">\n                <p>&copy; Private Chat 2020.</p>\n            </div>\n        </footer>\n    )\n};\n\nexport default Footer;\n","import React from 'react';\nimport Header from '../../components/Header/Header';\nimport Footer from '../../components/Footer/Footer';\nimport { Link } from 'react-router-dom';\n\nimport './styles.scss';\n\nexport const HomePage = () => {\n    return (\n        <div className='cmp-home'>\n            <Header/>\n            <section className='cmp-home__content'>\n                <h1 className='cmp-home__content--title'>Welcome to Private Chat</h1>\n                <p className='cmp-home__content--paragraph'>A great place to share your thoughts with friends</p>\n                <div className='cmp-home__content__links'>\n                    <Link className='cmp-home__content__links--signup' to='/signup'>Create New Account</Link>\n                    <Link className='cmp-home__content__links--signin' to='/login'>Login to Your Account</Link>\n                </div>\n            </section>\n            <Footer/>\n        </div>\n    )\n};\n","import React from 'react';\n\nimport './styles.scss';\n\nexport const Loader = ({ dark }) => {\n    return (\n        <div className=\"cmp-loader\">\n            <div className={ `spinner ${ dark ? 'dark' : '' }` }/>\n        </div>\n    )\n};\n","import React, { Component } from \"react\";\nimport Header from \"../../components/Header/Header\";\nimport { auth, db } from \"../../services/firebase\";\n\nimport './styles.scss';\nimport { Loader } from \"../../components/Loader/Footer\";\n\nexport class Chat extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            user: auth().currentUser,\n            chats: [],\n            content: '',\n            readError: null,\n            writeError: null,\n            loadingChats: false\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.myRef = React.createRef();\n    }\n\n    async componentDidMount() {\n        this.setState({ readError: null, loadingChats: true });\n        const chatArea = this.myRef.current;\n        try {\n            db.ref(\"chats\").on(\"value\", snapshot => {\n                let chats = [];\n                snapshot.forEach((snap) => {\n                    chats.push(snap.val());\n                });\n                chats.sort(function (a, b) {\n                    return a.timestamp - b.timestamp\n                })\n                this.setState({ chats });\n                chatArea.scrollBy(0, chatArea.scrollHeight);\n                this.setState({ loadingChats: false });\n            });\n        } catch (error) {\n            this.setState({ readError: error.message, loadingChats: false });\n        }\n    }\n\n    handleChange(event) {\n        this.setState({\n            content: event.target.value\n        });\n    }\n\n    async handleSubmit(event) {\n        event.preventDefault();\n        this.setState({ writeError: null });\n        const chatArea = this.myRef.current;\n        try {\n            await db.ref(\"chats\").push({\n                content: this.state.content,\n                timestamp: Date.now(),\n                uid: this.state.user.uid\n            });\n            this.setState({ content: '' });\n            chatArea.scrollBy(0, chatArea.scrollHeight);\n        } catch (error) {\n            this.setState({ writeError: error.message });\n        }\n    }\n\n    formatTime(timestamp) {\n        const d = new Date(timestamp);\n\n        return `${ d.getDate() }/${ (d.getMonth() + 1) }/${ d.getFullYear() } ${ d.getHours() }:${ d.getMinutes() }`;\n    }\n\n    render() {\n        return (\n            <>\n                <Header/>\n                <div className='cmp-chat' ref={ this.myRef }>\n                    {/* loading indicator */ }\n                    { this.state.loadingChats ?\n                        <Loader/> : \"\" }\n                    {/* chat area */ }\n                    { this.state.chats.map((chat, index) => {\n                        return <div key={ index }\n                                    className={ 'cmp-chat--item ' + (this.state.user.uid === chat.uid ? \"current-user\" : \"\") }>\n                            <div className='cmp-chat--item__content'>\n                                <span className='cmp-chat--item__content--paragraph'>{ chat.content }</span>\n                                <span className='cmp-chat--time'>{ this.formatTime(chat.timestamp) }</span>\n                            </div>\n                        </div>\n                    }) }\n                </div>\n                <form onSubmit={ this.handleSubmit } className='cmp-chat--form'>\n                    <input name='content' type='text' placeholder='Your Text' onChange={ this.handleChange }\n                           value={ this.state.content }/>\n                    { this.state.readError ? <p>{ this.state.readError }</p> : null }\n                    <button type='submit'>Send</button>\n                </form>\n            </>\n        );\n    }\n}\n","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { signInWithGitHub, signInWithGoogle, signup } from \"../../helpers/auth\";\n\nexport const SignUp = () => {\n\n    const [error, setError] = useState(null);\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const handleChange = event => {\n        event.target.name === 'email' && setEmail(event.target.value);\n        event.target.name === 'password' && setPassword(event.target.value);\n    };\n\n    const handleSubmit = async event => {\n        event.preventDefault();\n\n        setError('');\n\n        try {\n            await signup(email, password);\n        } catch (error) {\n            setError(error.message);\n        }\n    };\n\n    const googleSignIn = async () => {\n        try {\n            await signInWithGoogle();\n        } catch (error) {\n            setError(error.message);\n        }\n    };\n\n    const githubSignIn = async () => {\n        try {\n            await signInWithGitHub();\n        } catch (error) {\n            setError(error.message);\n        }\n    };\n\n    return (\n        <div className='cmp-form'>\n            <form\n                className='cmp-form__container'\n                autoComplete='off'\n                onSubmit={ handleSubmit }\n            >\n                <h1 className='cmp-form__container--title'>\n                    Sign up to\n                    <Link to='/'>\n                        Private Chat\n                    </Link>\n                </h1>\n                <p className='cmp-form__container--paragraph'>\n                    Fill in the form below to register an account.\n                </p>\n                <input\n                    className='cmp-form__container--input'\n                    placeholder='Email'\n                    name='email'\n                    type='email'\n                    onChange={ handleChange }\n                    value={ email }\n                />\n                <input\n                    className='cmp-form__container--input'\n                    placeholder='Password'\n                    name='password'\n                    onChange={ handleChange }\n                    value={ password }\n                    type='password'\n                />\n                <>\n                    { error ? (\n                        <p className='cmp-form__container--paragraph'>{ error }</p>\n                    ) : null }\n                    <div className='cmp-form__container--submit'>\n                        <button type='submit'>Sign up</button>\n                    </div>\n                </>\n                <p className='cmp-form__container--paragraph'>You can also sign up with any of these services</p>\n                <button type='button' onClick={ googleSignIn }>\n                    Sign up with Google\n                </button>\n                <button type='button' onClick={ githubSignIn }>\n                    Sign up with GitHub\n                </button>\n                <hr/>\n                <p>\n                    Already have an account? <Link to='/login'>Sign in</Link>\n                </p>\n            </form>\n        </div>\n    )\n};\n","import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { signin, signInWithGitHub, signInWithGoogle } from \"../../helpers/auth\";\n\nimport './styles.scss';\n\nexport const Login = () => {\n    const [error, setError] = useState(null);\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n\n    const handleChange = event => {\n        event.target.name === 'email' && setEmail(event.target.value);\n        event.target.name === 'password' && setPassword(event.target.value);\n    };\n\n    const handleSubmit = async event => {\n        event.preventDefault();\n\n        setError('');\n\n        try {\n            await signin(email, password);\n        } catch (error) {\n            setError(error.message);\n        }\n    };\n\n    const googleSignIn = async () => {\n        try {\n            await signInWithGoogle();\n        } catch (error) {\n            setError(error.message);\n        }\n    };\n\n    const githubSignIn = async () => {\n        try {\n            await signInWithGitHub();\n        } catch (error) {\n            setError(error.message);\n        }\n    };\n\n    return (\n        <div className='cmp-form'>\n            <form\n                className='cmp-form__container'\n                autoComplete='off'\n                onSubmit={ handleSubmit }\n            >\n                <h1 className='cmp-form__container--title'>\n                    Login to\n                    <Link className='' to='/'>\n                        Private Chat\n                    </Link>\n                </h1>\n                <p className='cmp-form__container--paragraph'>\n                    Fill in the form below to login to your account.\n                </p>\n                <input\n                    className='cmp-form__container--input'\n                    placeholder='Email'\n                    name='email'\n                    type='email'\n                    onChange={ handleChange }\n                    value={ email }\n                />\n                <input\n                    className='cmp-form__container--input'\n                    placeholder='Password'\n                    name='password'\n                    onChange={ handleChange }\n                    value={ password }\n                    type='password'\n                />\n                <>\n                    { error ? (\n                        <p className='cmp-form__container--paragraph'>{ error }</p>\n                    ) : null }\n                    <div className='cmp-form__container--submit'>\n                        <button type='submit'>Login</button>\n                    </div>\n                </>\n                <p className='cmp-form__container--paragraph'>You can also log in with any of these services</p>\n                <button type='button' onClick={ googleSignIn }>\n                    Sign in with Google\n                </button>\n                <button type='button' onClick={ githubSignIn }>\n                    Sign in with GitHub\n                </button>\n                <hr/>\n                <p>\n                    Don't have an account? <Link to='/signup'>Sign up</Link>\n                </p>\n            </form>\n        </div>\n    );\n};\n","import React, { Component, useEffect, useState } from \"react\";\nimport { BrowserRouter as Router, Redirect, Route, Switch } from \"react-router-dom\";\nimport { HomePage } from \"./pages/Home/Home\";\nimport { Chat } from \"./pages/Chat/Chat\";\nimport { SignUp } from \"./pages/Forms/Signup\";\nimport { Login } from \"./pages/Forms/Login\";\nimport { auth } from \"./services/firebase\";\nimport './styles.scss';\nimport { Loader } from \"./components/Loader/Footer\";\n\nconst PrivateRoute = ({ component: Component, authenticated, ...rest }) => {\n    return (\n        <Route\n            { ...rest }\n            render={ props =>\n                authenticated === true ? (\n                    <Component { ...props } />\n                ) : (\n                    <Redirect\n                        to={ { pathname: \"/login\", state: { from: props.location } } }\n                    />\n                )\n            }\n        />\n    );\n};\n\nconst PublicRoute = ({ component: Component, authenticated, ...rest }) => {\n    return (\n        <Route\n            { ...rest }\n            render={ props =>\n                authenticated === false ? (\n                    <Component { ...props } />\n                ) : (\n                    <Redirect to=\"/chat\"/>\n                )\n            }\n        />\n    );\n};\n\nconst App = () => {\n    const [authenticated, setAuthenticated] = useState(false);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        auth().onAuthStateChanged(user => {\n            if (user) {\n                setAuthenticated(true);\n                setLoading(false);\n            } else {\n                setAuthenticated(false);\n                setLoading(false);\n            }\n        });\n    });\n\n    return loading === true ? (\n        <Loader dark/>\n    ) : (\n        <Router>\n            <Switch>\n                <Route exact path=\"/\" component={ HomePage }/>\n                <PrivateRoute\n                    path=\"/chat\"\n                    authenticated={ authenticated }\n                    component={ Chat }\n                />\n                <PublicRoute\n                    path=\"/signup\"\n                    authenticated={ authenticated }\n                    component={ SignUp }\n                />\n                <PublicRoute\n                    path=\"/login\"\n                    authenticated={ authenticated }\n                    component={ Login }\n                />\n            </Switch>\n        </Router>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App/>, rootElement);\n"],"sourceRoot":""}